{
    "swagger": "2.0",
    "info": {
        "title": "API Rest - PSIM Backend",
        "version": "2.0.0"
    },
    "host": "api.server.test",
    "basePath": "/",
    "schemes": [
        "https"
    ],
    "tags": [
        {
            "name": "Usuário",
            "description": "Rotas referentes a usuários"
        },
        {
            "name": "Questão",
            "description": "Rotas referentes a questões"
        },
        {
            "name": "Simulado",
            "description": "Rotas referentes a simulados"
        },
        {
            "name": "Comentários",
            "description": "Rotas referentes a comentários"
        }
    ],
    "paths": {
        "/usuario/": {
            "get": {
                "summary": "Recupera o perfil de um usuário.",
                "description": "Recupera o perfil de um usuário.",
                "tags": [
                    "Usuário"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/perfil_usuario"
                        }
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            },
            "post": {
                "summary": "Realiza o login de um usuário.",
                "description": "Realiza o login de um usuário, se o usuário não estiver registrado, registra-o com nível de acesso 0.",
                "tags": [
                    "Usuário"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/perfil_usuario_resumido"
                        }
                    }
                }
            },
            "put": {
                "summary": "Altera o nível de acesso de um usuário.",
                "description": "Altera o nível de acesso de um usuário. Um usuário com nível de acesso 'x' pode promover outro para qualquer nível menor ou igual o seu. Usuários de nível 0 não podem promover ninguém.",
                "tags": [
                    "Usuário"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "e-mail",
                        "type": "string",
                        "in": "query",
                        "description": "E-mail do usuário a ser promovido.",
                        "required": true
                    },
                    {
                        "name": "nivel",
                        "type": "integer",
                        "in": "query",
                        "description": "Nível para o qual o usuário deve ser promovido.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a promoção."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            },
            "delete": {
                "summary": "Exclui a conta de um usuário.",
                "description": "Exclui a conta de um usuário. Se nenhum e-mail for passado exclui a conta do usuário logado. Caso um e-mail seja passado e o usuário logado tenha nível de acesso superior ao do e-mail, a conta associada ao e-mail será excluída.",
                "tags": [
                    "Usuário"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "e-mail",
                        "type": "integer",
                        "in": "query",
                        "description": "E-mail do usuário a ser promovido.",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a exclusão de conta."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            }
        },
        "/questao/": {
            "get": {
                "summary": "Recupera as questões do BD.",
                "description": "Recupera as questões do BD. Um filtro pode ser passado opcionalmente.",
                "tags": [
                    "Questão"
                ],
                "parameters": [
                    {
                        "name": "anos",
                        "in":"query",
                        "type": "array",
                        "description": "Anos das provas que as questões devem ser escolhidas.",
                        "items": {
                            "type": "integer"
                        },
                        "minLength": 1
                    },
                    {
                        "name": "areas",
                        "in": "query",
                        "type": "array",
                        "description": "Array de strings indicando as áreas.",
                        "items": {
                            "type": "string"
                        },
                        "minLength": 1
                    },
                    {
                        "name": "sinalizadas",
                        "in":"query",
                        "type": "string",
                        "description": "Indicativo se deve filtrar apenas por questões sinalizadas. Apenas usuários com nível de acesso maior ou igual a 1 podem usar esse filtro.",
                        "enum": [
                            "yes",
                            "no"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "questoes": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/questao"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "summary": "Cria uma questão.",
                "description": "Cria uma questão. Usuário precisa ter nível de acesso maior que 0 para esta operação.",
                "tags": [
                    "Questão"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "conteudo",
                        "in": "body",
                        "description": "Conteúdo da questão.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/questao_criacao"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Questão foi criada."
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a operação."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            }
        },
        "/questao/sumario/": {
            "get": {
                "summary": "Recupera um sumário das questões do BD.",
                "description": "Recupera um sumário das questões do BD. Esse sumário trará informações da quantidade de questões por área e ano disponíveis, bem como dos anos, áreas e subáreas das questões disponíveis.",
                "tags": [
                    "Questão"
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "num_questoes": {
                                    "type": "array",
                                    "description": "Quantidade de questões no BD por ano.",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "ano": {
                                                "type": "integer"
                                            },
                                            "quant_tot": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 70
                                            },
                                            "quant_mat": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 20
                                            },
                                            "quant_fund": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 30
                                            },
                                            "quant_tec": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 20
                                            }
                                        }
                                    }
                                },
                                "anos": {
                                    "type": "array",
                                    "description": "Anos das questões contidas no BD.",
                                    "items": {
                                        "type": "integer",
                                        "minimum": 2002
                                    }
                                },
                                "areas": {
                                    "type": "array",
                                    "description": "Áreas das questões contidas no BD.",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                "subareas": {
                                    "type": "array",
                                    "description": "Subáreas das questões contidas no BD.",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/questao/{id}/": {
            "get": {
                "summary": "Recupera os erros sinalizados em uma questão.",
                "description": "Recupera os erros sinalizados em uma questão. Requer nível de acesso maior ou igual a 1.",
                "tags": [
                    "Questão"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "description": "Mensagens de erro relatadas."
                            }
                        }
                    },
                    "204": {
                        "description": "Nenhum erro encontrado."
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a operação."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            },
            "put": {
                "summary": "Sinaliza um erro na questão.",
                "description": "Sinaliza um erro na questão.",
                "tags": [
                    "Questão"
                ],
                "parameters": [
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    },
                    {
                        "name": "mensagem_erro",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "patch": {
                "summary": "Atualiza o conteúdo de uma questão.",
                "description": "Atualiza o conteúdo de uma questão. Usuário precisa de nível de acesso maior ou igual a 1.",
                "tags": [
                    "Questão"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    },
                    {
                        "name": "conteudo",
                        "in": "body",
                        "description": "Conteúdo da questão.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/questao_criacao"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a operação."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            },
            "delete": {
                "summary": "Apaga uma questão.",
                "description": "Apaga uma questão. Usuário precisa de nível de acesso maior ou igual a 1.",
                "tags": [
                    "Questão"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a operação."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            }
        },
        "/simulado/": {
            "get": {
                "description": "Recupera todos os simulados de um usuário.",
                "summary": "Recupera todos os simulados de um usuário.",
                "tags": [
                    "Simulado"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/simulado_curto"
                            }
                        }
                    },
                    "401": {
                        "description": "Usuário não autorizado."
                    }
                }
            },
            "post": {
                "description": "Cria um simulado. As questões não são associadas até que se peça a realização do simulado.",
                "summary": "Cria um simulado.",
                "tags": [
                    "Simulado"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "details",
                        "in": "body",
                        "description": "Informações sobre o simulado a ser criado",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/simulado_criacao"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Simulado foi criado."
                    },
                    "401": {
                        "description": "Usuário não autorizado."
                    },
                    "406": {
                        "description": "Parâmetros incorretos (erro na quantidade de questões ou tempo de realização).",
                        "schema": {
                            "type": "string",
                            "description": "Mensagem detalhando o erro."
                        }
                    }
                }
            }
        },
        "/simulado/{id}/": {
            "get": {
                "description": "Obtém um simulado pelo ID. Só deve retornar um simulado se ele tiver sido concluído.",
                "summary": "Obtém um simulado pelo ID.",
                "tags": [
                    "Simulado"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do simulado desejado.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/simulado_respondido"
                        }
                    },
                    "401": {
                        "description": "Usuário não autorizado."
                    },
                    "404": {
                        "description": "Simulado não encontrado"
                    },
                    "406": {
                        "description": "Simulado não finalizado."
                    }
                }
            },
            "put": {
                "description": "Altera o estado de um simulado.",
                "summary": "Altera o estado de um simulado.",
                "externalDocs": {
                    "url": "https://viewer.diagrams.net/?tags={}&target=blank&highlight=0000ff&layers=1&nav=1&title=DER-PSim#R7VnJcuIwEP0aH0l5CdgcWSeHzFRqMksyl5TAwmhGtlyyWL9%2BWra8swbIUsmFktqthu5%2B76kBzer5yy8chdOvzMVUM3V3qVl9zTQd04FXaVglhut2KzF4nLiJycgN92SNlVFX1hlxcVRyFIxRQcKyccyCAI9FyYY4Z4uy24TR8ruGyMM1w%2F0Y0br1N3HFVFmNVjt%2FcIOJNxVpwnbywEeps8okmiKXLQoma6BZPc6YSFb%2BsoeprF1al8bN09Mt%2FvoH0e%2BO9w3bvybNWSMJNjzmSJYCx4E4b%2BjrJPQc0Zmql8pVrNICYhfqqbaMiynzWIDoILd2OZsFLpZvo8Mu97llLASjAca%2FWIiVAgeaCQamqfCpeooDtyNbDduABTixDAmlKmQkEBepx5iiKCLj1Kzc4jBLIh7UEbl%2BlOurptr1l4VH%2FZXaJOnKHCtw2VNr5RexGR%2FjHX52BhQgGGY%2BFnwF5zimSJB5%2BU2RgrqX%2BWVH7xiBj2PqipVGW2FyVdmnIZLPpU4VQVENZO0JBCX2sKgFgkUhn9wUY%2B4I%2FNk1%2FPU4AZrVUUgpKIaExmJKBL4PUVz2BWhWGUsoChMZmZClxKTq8BxzgZfP6HG9d9t60FT7RS4zjjJNiwKjb%2B92qbzH1tIw6lV7Ae4%2Bg3RQdr56yMgPm8Ipuc2Pxbv03KE6sEdOLs15dWMm1LmgNpyGFrNGvbufPzR5sw0j4s9ozMKhZnchjN2Xy03oukUjmBfKDKTEC2SDoJqYg0Fyj8CN3FEPfOK6CfhwRNZoFMeTjQmlzMSJNrtasw8WKsN30fifFwO1xyjjeVu3UlsNEyp0foXvb%2FFuzutXpp3OB4r26RV6qqKXxaTRKgdgk0mEL6LATg0GA18zWxSq1B1xWHki7hR0dY20nqV17PjVeg8abTlvTaNbx7Ou2osRc2WKQdYGiLYmG9rxKf4bxP8QRbnc1dA%2B8Gpw9siQ3jRbJWSnCvdcGbq80LRryB%2BSIFaVdzHutaqT8qtLifWajDcKjDcO47te5LvxMmx%2FK6PeFj4fx1bIFK0KDmpc2jpTXFduP9Nwiqjb79%2FUd%2FpbbXOXPyyST3xWGTHqP1kcfYPCeChIMEP8KTthdWQbOYT8CFPu7qGpWVG6XRK2GRl2uxSh%2BqPC5S4ZhfDXGoOy0eexqIR7xqArHaS8NApZ%2B2aheHeHOYF6SfAdMNl8CuoZr976LHM2DZogCnNPzZ0SP0RJLjLLKGTQObmOEJ2j6EOo1u6huKFfGQ4wpyg81mlDcfplPP3Kf4p%2BwTb%2FqyBxz%2F9vsQb%2FAQ%3D%3D",
                    "description": "Máquina de estados referente ao simulado."
                },
                "tags": [
                    "Simulado"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do simulado desejado.",
                        "required": true
                    },
                    {
                        "name": "continuar_simulado",
                        "in": "query",
                        "required": true,
                        "description": "Indicativo se o simulado deve ser reiniciado ou não, caso esteja em realização",
                        "type": "boolean",
                        "default": true
                    },
                    {
                        "name": "batch_questoes",
                        "in": "body",
                        "description": "Respostas finais do simulado.",
                        "required": false,
                        "schema": {
                            "$ref": "#/definitions/batch_questoes"
                        }
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Modificado de 'Criado' para 'Em realização'.",
                        "schema": {
                            "$ref": "#/definitions/simulado_para_realizacao"
                        }
                    },
                    "301": {
                        "description": "Simulado foi finalizado."
                    },
                    "304": {
                        "description": "Continuando realização de simulado.",
                        "schema": {
                            "$ref": "#/definitions/simulado_para_realizacao"
                        }
                    },
                    "401": {
                        "description": "Usuário não autorizado"
                    },
                    "404": {
                        "description": "Simulado não encontrado"
                    },
                    "406": {
                        "description": "Simulado já foi finalizado, estado não pode ser alterado."
                    }
                }
            },
            "patch": {
                "description": "Envia uma parcial das respostas do usuário, para persistência no BD.",
                "summary": "Envia uma parcial das respostas do usuário.",
                "tags": [
                    "Simulado"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do simulado desejado.",
                        "required": true
                    },
                    {
                        "name": "batch_questoes",
                        "in": "body",
                        "description": "Parciais das questões do simulado que já foram marcadas.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/batch_questoes"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Usuário não autorizado."
                    },
                    "404": {
                        "description": "Simulado não encontrado."
                    },
                    "406": {
                        "description": "Simulado não está em realização."
                    }
                }
            },
            "delete": {
                "description": "Deleta um simulado do banco de dados.",
                "summary": "Deleta um simulado do banco de dados.",
                "tags": [
                    "Simulado"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do simulado desejado.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Simulado foi apagado."
                    },
                    "401": {
                        "description": "Usuário não autorizado."
                    },
                    "404": {
                        "description": "Simulado não encontrado."
                    }
                }
            }
        },
        "/comment/": {
            "get": {
                "summary": "Recupera todos os comentários sinalizados.",
                "description": "Recupera todos os comentários sinalizados. Requer nível de acesso maior ou igual a 1.",
                "tags": [
                    "Comentários"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/comentario"
                        }
                    },
                    "204": {
                        "description": "Nenhum comentário encontrado."
                    },
                    "401": {
                        "description": "Usuário não autorizado a realizar a operação."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            }
        },
        "/comment/questao/{id}/": {
            "get": {
                "summary": "Recupera os comentários de uma questão.",
                "description": "Recupera os comentários de uma questão.",
                "tags": [
                    "Comentários"
                ],
                "parameters": [
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "comentarios": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/comentario"
                                    }
                                }
                            }
                        }
                    },
                    "204": {
                        "description": "Nenhum comentário encontrado."
                    }
                }
            },
            "post": {
                "summary": "Publica um comentário em uma questão.",
                "description": "Publica um comentário em uma questão.",
                "tags": [
                    "Comentários"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "id",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    },
                    {
                        "name": "comentario",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/comentario"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            }
        },
        "/comment/{cid}/questao/{qid}": {
            "put": {
                "summary": "Sinaliza um comentário como inapropriado.",
                "description": "Sinaliza um comentário como inapropriado.",
                "tags": [
                    "Comentários"
                ],
                "parameters": [
                    {
                        "name": "cid",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do comentário.",
                        "required": true
                    },
                    {
                        "name": "qid",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    },
                    {
                        "name": "mensagem",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "patch": {
                "summary": "Edita um comentário.",
                "description": "Edita um comentário.",
                "tags": [
                    "Comentários"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "cid",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do comentário.",
                        "required": true
                    },
                    {
                        "name": "qid",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    },
                    {
                        "name": "comentario",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/comentario"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Comentário não pertence ao usuário."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            },
            "delete": {
                "summary": "Apaga um comentário.",
                "description": "Apaga um comentário. Usuário com nível de acesso maior ou igual a 1 podem apagar qualquer comentário.",
                "tags": [
                    "Comentários"
                ],
                "parameters": [
                    {
                        "name": "user_token",
                        "in": "header",
                        "description": "Token do usuário logado no sistema.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "cid",
                        "type": "integer",
                        "in": "path",
                        "description": "ID do comentário.",
                        "required": true
                    },
                    {
                        "name": "qid",
                        "type": "integer",
                        "in": "path",
                        "description": "ID da questão.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "401": {
                        "description": "Comentário não pertence ao usuário ou nível de acesso insuficiente."
                    },
                    "404": {
                        "description": "Usuário não encontrado."
                    }
                }
            }
        }
    },
    "definitions": {
        "simulado_curto": {
            "type": "object",
            "required": [
                "nome",
                "estado"
            ],
            "properties": {
                "nome": {
                    "type": "string",
                    "description": "Nome do simulado",
                    "example": "Meu simulado"
                },
                "estado": {
                    "type": "string",
                    "description": "Estado atual do simulado",
                    "enum": [
                        "Criado",
                        "Em realização",
                        "Finalizado"
                    ],
                    "example": "Finalizado"
                },
                "areas": {
                    "type": "array",
                    "description": "Array de boolean indicando a presença de uma área no simulado. Considerando a ordem: ['Matemática', 'Fundamentos de Computação', 'Tecnologias da Computação'].",
                    "items": {
                        "type": "boolean"
                    },
                    "example": [
                        true,
                        true,
                        false
                    ],
                    "minLength": 3,
                    "maxLength": 3
                },
                "numero_questoes": {
                    "type": "integer",
                    "format": "int32",
                    "example": 10
                },
                "correcao": {
                    "$ref": "#/definitions/correcao"
                }
            }
        },
        "simulado_criacao": {
            "type": "object",
            "required": [
                "nome"
            ],
            "properties": {
                "nome": {
                    "type": "string",
                    "description": "Nome do simulado",
                    "example": "Meu simulado"
                },
                "questoes_areas": {
                    "type": "array",
                    "description": "Array de integer indicando a quantidade de questões de cada área que o simulado deve ter. Considerando a ordem: ['Matemática', 'Fundamentos de Computação', 'Tecnologias da Computação'].",
                    "items": {
                        "type": "integer"
                    },
                    "example": [
                        10,
                        10,
                        10
                    ],
                    "minLength": 3,
                    "maxLength": 3,
                    "default": [
                        20,
                        30,
                        20
                    ]
                },
                "anos": {
                    "type": "array",
                    "description": "Anos das provas que as questões devem ser escolhidas.",
                    "items": {
                        "type": "integer"
                    },
                    "minLength": 1,
                    "example": [
                        2016,
                        2020
                    ]
                },
                "duracao_maxima": {
                    "type": "integer",
                    "description": "Tempo máximo que o usuário terá ao realizar a prova em minutos.",
                    "example": 100,
                    "default": 240
                }
            }
        },
        "simulado_respondido": {
            "type": "object",
            "properties": {
                "id_simulado": {
                    "type": "integer"
                },
                "questoes": {
                    "type": "array",
                    "description": "Array contendo as questões do simulado, na ordem de exibição.",
                    "items": {
                        "$ref": "#/definitions/questao"
                    }
                },
                "respostas_atuais": {
                    "type": "array",
                    "description": "Array contendo as respostas marcadas pelo usuário até o momento.",
                    "items": {
                        "type": "string",
                        "description": "Resposta marcada",
                        "enum": [
                            "A",
                            "B",
                            "C",
                            "D",
                            "E",
                            ""
                        ]
                    }
                },
                "correcao": {
                    "$ref": "#/definitions/correcao"
                }
            }
        },
        "simulado_para_realizacao": {
            "type": "object",
            "properties": {
                "id_simulado": {
                    "type": "integer"
                },
                "tempo_restante": {
                    "type": "integer",
                    "description": "Tempo restante de realização em minutos."
                },
                "questoes": {
                    "type": "array",
                    "description": "Array contendo as questões do simulado, na ordem de exibição.",
                    "items": {
                        "$ref": "#/definitions/questao"
                    }
                },
                "respostas_atuais": {
                    "type": "array",
                    "description": "Array contendo as respostas marcadas pelo usuário até o momento.",
                    "items": {
                        "type": "string",
                        "description": "Resposta marcada",
                        "enum": [
                            "A",
                            "B",
                            "C",
                            "D",
                            "E",
                            ""
                        ]
                    }
                }
            }
        },
        "batch_questoes": {
            "type": "object",
            "properties": {
                "repostas": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "id_questao": {
                                "type": "integer",
                                "description": "ID da questão."
                            },
                            "resposta_questao": {
                                "type": "string",
                                "description": "Resposta marcada",
                                "enum": [
                                    "A",
                                    "B",
                                    "C",
                                    "D",
                                    "E",
                                    ""
                                ]
                            }
                        }
                    }
                },
                "tempo_restante": {
                    "type": "integer",
                    "description": "Tempo restante do simulado em minutos."
                }
            }
        },
        "questao": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "ano": {
                    "type": "integer"
                },
                "numero": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 70
                },
                "area": {
                    "type": "string",
                    "enum": [
                        "Matemática",
                        "Fundamentos de Computação",
                        "Tecnologias da Computação"
                    ]
                },
                "subarea": {
                    "type": "string"
                },
                "enunciado": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "Parágrafo do enunciado."
                    }
                },
                "imagens_enunciado": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "URLs para as imagens."
                    }
                },
                "imagens_alternativas": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "description": "Array contendo URL para imagens associadas a alternativas.",
                        "items": {
                            "type": "string",
                            "description": "URLs para as imagens."
                        }
                    },
                    "minLength": 5,
                    "maxLength": 5
                },
                "alternativas": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "Texto de cada alternativa."
                    },
                    "minLength": 5,
                    "maxLength": 5
                },
                "sinalizada": {
                    "type": "boolean"
                }
            }
        },
        "questao_criacao": {
            "type": "object",
            "properties": {
                "ano": {
                    "type": "integer"
                },
                "numero": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 70
                },
                "area": {
                    "type": "string",
                    "enum": [
                        "Matemática",
                        "Fundamentos de Computação",
                        "Tecnologias da Computação"
                    ]
                },
                "subarea": {
                    "type": "string"
                },
                "enunciado": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "Parágrafo do enunciado."
                    }
                },
                "imagens_enunciado": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "URLs para as imagens."
                    }
                },
                "imagens_alternativas": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "description": "Array contendo URL para imagens associadas a alternativas.",
                        "items": {
                            "type": "string",
                            "description": "URLs para as imagens."
                        }
                    },
                    "minLength": 5,
                    "maxLength": 5
                },
                "alternativas": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "Texto de cada alternativa."
                    },
                    "minLength": 5,
                    "maxLength": 5
                }
            }
        },
        "correcao": {
            "type": "object",
            "properties": {
                "data_finalizacao": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2021_01_30T08:30:00Z"
                },
                "tempo_realizacao": {
                    "type": "integer",
                    "format": "int64",
                    "example": 100
                },
                "acertos": {
                    "type": "array",
                    "description": "Array de inteiros com a quantidade de acertos. Considerando a ordem: ['Total', 'Matemática', 'Fundamentos de Computação', 'Tecnologias da Computação'].",
                    "items": {
                        "type": "integer"
                    },
                    "minLength": 4,
                    "maxLength": 4,
                    "example": [
                        5,
                        3,
                        2,
                        0
                    ]
                },
                "erros": {
                    "type": "array",
                    "description": "Array de inteiros com a quantidade de erros. Considerando a ordem: ['Total', 'Matemática', 'Fundamentos de Computação', 'Tecnologias da Computação'].",
                    "items": {
                        "type": "integer"
                    },
                    "minLength": 4,
                    "maxLength": 4,
                    "example": [
                        3,
                        1,
                        2,
                        0
                    ]
                },
                "branco": {
                    "type": "array",
                    "description": "Array de inteiros com a quantidade de questões em branco. Considerando a ordem: ['Total', 'Matemática', 'Fundamentos de Computação', 'Tecnologias da Computação'].",
                    "items": {
                        "type": "integer"
                    },
                    "minLength": 4,
                    "maxLength": 4,
                    "example": [
                        2,
                        1,
                        1,
                        0
                    ]
                }
            }
        },
        "comentario": {
            "type": "object",
            "properties": {
                "autor_id": {
                    "type": "integer"
                },
                "autor": {
                    "type": "string",
                    "description": "Nome do autor do comentário."
                },
                "texto": {
                    "type": "string"
                },
                "data_publicao": {
                    "type": "string",
                    "format": "date-time"
                }
            }
        },
        "perfil_usuario_resumido": {
            "type": "object",
            "properties": {
                "nome": {
                    "type": "string",
                    "description": "Nome do usuário."
                },
                "foto_perfil": {
                    "type": "string",
                    "description": "URL para a foto de perfil do usuário."
                },
                "nivel_acesso": {
                    "type": "integer",
                    "description": "Nível de acesso do usuário."
                }
            }
        },
        "perfil_usuario": {
            "type": "object",
            "properties": {
                "nome": {
                    "type": "string",
                    "description": "Nome do usuário."
                },
                "foto_perfil": {
                    "type": "string",
                    "description": "URL para a foto de perfil do usuário."
                },
                "nivel_acesso": {
                    "type": "integer",
                    "description": "Nível de acesso do usuário."
                },
                "estatisticas": {
                    "type": "object",
                    "properties": {
                        "num_simulados_finalizados": {
                            "type": "integer"
                        },
                        "num_comentarios_publicados": {
                            "type": "integer"
                        },
                        "porcentagem_questoes_feitas": {
                            "type": "array",
                            "items": {
                                "type": "integer",
                                "description": "Array indicando a proporção de questões feitas pelo usuário por área. Considerando a ordem: ['Geral', 'Matemática', 'Fundamentos de Computação', 'Tecnologias da Computação']",
                                "minimum": 0,
                                "maximum": 1,
                                "minLength": 4,
                                "maxLength": 4
                            }
                        }
                    }
                }
            }
        }
    }
}